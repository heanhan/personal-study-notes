## Spring Cloud Gateway整合OAuth2.0 实现分布式统一认证授权

### 微服务认证方案：

微服务认证方案目前有很多种，各个企业也是不相同，但是综合分为两类，如下：

1、网关只负责转发请求，认证鉴权交给每个服务控制

2、统一在网关层面认证鉴权，微服务只负责业务。



主流还是选择在网关做认证鉴权

#### 大致的认证鉴权的流程

1. 客户端获取 access_token,向网关发送请求，网关转发请求到授权服务器，返回access_token给客户端。
2. 客户端卸载token 请求网关，网关校验token 合法的toekn 然后进行鉴权，认证鉴权成功后，将请求转发给具体的后台服务。

#### 大致分为四个角色

-  客户端：需要反问微服务资源
- 网关：负责转发、认证、鉴权
- OAuth2.0授权服务器：颁发令牌
- 微服务集合：提供资源一系列服务。



