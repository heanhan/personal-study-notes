### 1、基础概念

#### 1.1 什么是事务

一次行为，要么成功，要么失败

#### 1.2本地事务

在计算机系统中，更多的是通过关系型数据库来控制事务，这个利用数据本身的事务特性来实现，这叫**数据库事务**。

由于应用这要靠关系型数据库来控制事务，而数据库通常和应用在同一个服务器，所以关系型数据库的事务成为**本地事务**。

##### 数据库的四大特性

A ：原子性，构成事务的所有操作，要么全部执行要不不执行。

C: 一致性，在数据执行前后，数据库的一致性没有得到破坏。

I: 隔离性，数据库的事务一般都是并发执行的，隔离性指并发的两个事务的执行，互不干扰，一个事务不能看到其他事务运行过程的中间状态，通过配置事务的隔离级别可以避免脏读，重复读，幻读的问题。

D: 持久性，将数据持久化到本地

注：

```
数据库的事务在实现时会将一次事务涉及的所有操作作为全部纳入一个不可分割的单元，该执行单元的所有操作失败，都将整个事务回滚。
```

#### 1.3 分布式事务

分布式系统会把一个应用拆分可独立部署的多个服务，因此需要服务于服务之间远程协作才能完成事务，这种事务称为分布式事务。

#### 1.4产生分布式事务的场景

1. 微服务架构下，服务之间通过远程调用完成事务操作，简言之，跨jvm进程产生的分布式事务。
2. 单体系统，访问多个数据库实例
3. 多个服务器访问同一个数据库。