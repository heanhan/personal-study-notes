# 间隙锁(Gap Locks)

间隙锁，它封锁`索引记录中的间隔`，或者第一条索引记录之前的范围，又或者最后一条索引记录之后的范围。

```
-- 会封锁区间，以阻止其他事务id=10的记录插入。
select * from t 
where id between 8 and 15 
for update;

-- 为什么要阻止id=10的记录插入？
-- 如果能够插入成功，头一个事务执行相同的SQL语句，会发现结果集多出了一条记录，即幻影数据。
```

间隙锁的主要目的，就是为了防止其他事务在间隔中插入数据，以导致“不可重复读”。

如果把事务的隔离级别降级为读提交(Read Committed, RC)，间隙锁则会自动失效。
