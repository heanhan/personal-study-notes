### SQL 优化的万能公式

#### 优化首先 5 个步骤

1、通过慢查询的日志定位哪些 sql 执行效率低

2、找出对应的 慢 sql ,使用 explain 分析执行计划

需要注意的是重点关注 type、rows、filtered、extra。

- type 由上至下，效率越来越高

  ```
  ALL ：全表扫描
  index : 索引全扫描
  range :索引范围扫描，常用语 <,<=,>=,between,in 等操作。
  ref : 使用非唯一索引或者唯一索引前缀扫描，返回单条记录，常出现在关联查询中
  ```

  

​	