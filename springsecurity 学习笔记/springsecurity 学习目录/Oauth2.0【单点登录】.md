### Oauth2.0【单点登录】

#### 1、Oauth2.0 简介

```
OAuth2.0 其实十一个关于授权的网络标准协议，它制定了设计思路和运行流程。利用这个标准我们其实是可以自己实现 OAuth2.0 的认证过程。

spring-cloud-starter-oauth2 其实是 Spring cloud 按照 OAuth2.0 的标准并结合spring-securiy 封装好的一个具体实现。
```

##### OAuth 2.0 的运行流程

1. 用户打开客户端以后，客户端要求用于基于授权。
2. 用户同意给客户端授权。
3. 客户端使用上一步获取的授权，向认证服务器申请令牌。
4. 认证服务器对客户端进行认证，确认无误，同意发放令牌。
5. 客户端使用令牌，向资源服务器申请获取资源。
6. 资源服务器确认令牌无误，同意向客户端开放资源。

```
OAuth 2.0 有四种授权模式，分别是：
	1、授权码模式，
	2、简化模式
	3、密码模式
	4、客户端模式
```

假设我们做了一个自己的服务平台，如果不是用 OAuth2.0 协议登录实现，那么我们需要用户先完成注册，然后用注册的账号密码或者手机验证登录，而使用了 OAuth2.0 之后，相信很多人使用过，甚至开发过公众号网页服务，小程序，当我们进入网页， 第一次使用就无需要注册，直接使用微信授权登录即可，大大提高了使用效率，因为每个人都有微信号，有了微信号就能直接使用第三方的服务，这体验太好了。而对于我们来说，我们也不需要用户储存密码，只要储存认证平台返回唯一的 ID 和用户信息就好。

以上是使用 OAuth2.0 的授权码模式，利用第三方的权威平台实现用户的身份的认证，当然了，如果你们公司内部有很多的服务，可以专门做一个服务，可以专门提取一个认证中心，这个认证中心就充当傻瓜难免说的权威认证平台的角色，所有的服务都要到这个认证中心做认证。